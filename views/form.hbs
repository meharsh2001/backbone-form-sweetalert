<html>

<head>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.3/backbone-min.js"></script>
    <script type="text/javascript"
        src="https://rawgithub.com/powmedia/backbone-forms/master/distribution/backbone-forms.js"></script>
    <script type="text/javascript"
        src="https://rawgithub.com/powmedia/backbone-forms/master/distribution/editors/list.js"></script>
    <script type="text/javascript"
        src="https://rawgit.com/powmedia/backbone-forms/master/distribution/adapters/backbone.bootstrap-modal.min.js"></script>
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript"
        src="https://rawgit.com/powmedia/backbone-forms/master/distribution/templates/bootstrap3.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
    <style>
        .right {
            text-align: right;
        }
    </style>
</head>

<body class="">
    <div class="panel panel-default panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Manage Users</h3>
        </div>
        <div class="right">
            <input type="button" class="button" id="btns" value="change password"><br><br>
            <input type="button" class="button" id="" value="disable user"><br><br>
            <input type="button" class="button" id="btn" value="delete user">
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            var userData = ['meharsh2001@gmail.com', 'harsh.jain@srrintl.com', 'Userc', 'Userd']
            var User = Backbone.Model.extend({
                schema: {
                    user: { type: 'Select', options: userData }
                }
            });

            var user = new User();

            var form = new Backbone.Form({
                model: user
            }).render();

            dialog = Backbone.View.extend({
                el: 'html',
                events: {
                    "click #btn": "sweet",
                    "click #btns": "tweet",
                },
                tweet: function () {
                    swal({
                        title: "Are you sure?",
                        text: "change password",
                        type: "success",
                        showCancelButton: true,
                        confirmButtonColor: 'blue',
                        confirmButtonText: 'change',
                        closeOnConfirm: false,
                        //closeOnCancel: false
                    });
                },
                sweet: function () {
                    var formDivExist = document.getElementsByClassName('panel-body').length;
                    if (formDivExist == 0) {
                        $(".sweet-overlay").remove();
                        $(".sweet-alert").remove();
                        swal("Are you sure u want to continue if Yes click on button again");
                        $(".sweet-alert").append('<div class="panel-body"></div>');
                        dialogInput()
                    } else dialogInput()

                    function dialogInput() {
                        console.log('started')
                        $(".panel-body").html(form.el);
                        swal({
                            title: "Are you sure?",
                            text: "delete user",
                            type: "warning",
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'delete',
                            closeOnConfirm: false,
                            //closeOnCancel: false
                        },
                            function (rel) {
                                var newOwner = $("select[name='user']").val() ;
                                 $(".sweet-overlay").remove();
                                $(".sweet-alert").remove(); 
                                if (rel) {
                                    swal("Deleted!", newOwner, "success");
                                    }
                                });
                    }
                }
            });
            var backbone = new dialog();
        });  
    </script>

</body>

</html>